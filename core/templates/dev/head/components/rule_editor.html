<div style="position: relative;">
  <form class="form-inline" role="form">
    <rule-type-selector class="protractor-test-rule-description" local-value="rule.rule_type" on-selection-change="onSelectNewRuleType">
    </rule-type-selector>

    <span ng-repeat="item in ruleDescriptionFragments track by $index" class="form-group protractor-test-rule-description-fragment" style="margin-right: 5px; width: 100%;">
      <span ng-if="item.type == 'select'" style="color: black;">
        <span ng-if="ruleDescriptionChoices.length === 1">
          "<[ruleDescriptionChoices[0].val|convertToPlainText|truncate]>"
        </span>
        <span ng-if="ruleDescriptionChoices.length !== 1">
          <select class="form-control" ng-model="rule.inputs[item.varName]" ng-options="choice.id as (choice.val|convertToPlainText|truncate) for choice in ruleDescriptionChoices" style="max-width: 250px;">
          </select>
        </span>
      </span>

      <span ng-if="item.type != 'select' && item.type != 'noneditable'">
        <object-editor obj-type="<[item.type]>" is-editable="isEditable" always-editable="true" value="rule.inputs[item.varName]" style="color: black;"></object-editor>
      </span>
      <span ng-if="item.type == 'noneditable'">
        <[item.text]>
      </span>
    </span>
  </form>
</div>
